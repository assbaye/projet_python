
#Ecran pour matiere
<ListMatiereScreen>: 
    BoxLayout:
        canvas.before:  
            Color:
                rgba: hex("#CCEEFF")
            Rectangle:
                size: self.size
                pos: self.pos
        orientation: 'horizontal'
        padding: 6, 0
        spacing: 10

        # Menu de gauche
        BoxLayout:
            orientation: 'vertical'
            padding: 0
            spacing: 0
            size_hint: 0.3, 1
            canvas.before:  
                Color:
                    rgba: 250, 250, 250, 0.6
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                text: 'Examen BFEM'
                color: hex("#000000")
                font_size: 24
                bold: True
                size_hint: 1, 0.1
            
            BoxLayout:
                orientation: 'vertical'
                canvas.before:  
                    Color:
                        rgba: hex("#FFFFFF")
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        
                Label:
                    text: "Menu"
                    color: "#FF7300"
                    size_hint_y: 0.1
                    size_hint_x:None
                    font_size: 12 
                    bold: True     

                FloatLayout:   
                    orientation: 'horizontal'
                    padding: 5
                    spacing: 2
                    size_hint: 1, 0.9

                    BoxLayout:
                        orientation: 'horizontal'
                        padding: 5
                        spacing: -5
                        size_hint: 0.9, 0.1
                        pos_hint: {'center_x': 0.5, 'center_y': 0.9}    
                        Image:
                            source: 'projet_python/bfem/images/group_inact.png'
                            size_hint: None, None
                            size: 20, 14
                            allow_stretch: True
                            keep_ratio: True
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        Label:
                            text: "Candidats"
                            font_name: 'bfem/assets/fonts/sen.ttf'
                            color: hex("#256D94")
                            size_hint_x: None

                    BoxLayout:    
                        orientation: 'horizontal'
                        padding: 5
                        size_hint: 0.9, 0.1
                        pos_hint: {'center_x': 0.5, 'center_y': 0.8}    
                        Image:
                            source: 'projet_python/bfem/images/matiere.png'
                            size_hint: None, None
                            size: 20, 14
                            allow_stretch: True
                            keep_ratio: True
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        Label:
                            text: "Matières"
                            font_name: 'bfem/assets/fonts/sen.ttf'
                            color: hex("#ff7300")
                            size_hint_x: None

                    BoxLayout:
                        orientation: 'horizontal'
                        padding: 5
                        size_hint: 0.9, 0.1
                        pos_hint: {'center_x': 0.5, 'center_y': 0.7}    
                        Image:
                            source: 'projet_python/bfem/images/evaluation.png'
                            size_hint: None, None
                            size: 20, 14
                            allow_stretch: True
                            keep_ratio: True
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        ClickableLabel:
                            text: "Evaluation"
                            font_name: 'bfem/assets/fonts/sen.ttf'                            
                            color: hex("#256D94")
                            size_hint_x: None
                            on_press: root.screen.current = 'liste_merite'

                    BoxLayout:
                        orientation: 'horizontal'
                        padding: 5
                        spacing: 40
                        size_hint: 0.8, 0.1
                        pos_hint: {'center_x': 0.5, 'center_y': 0.2}
                        Label:
                            text: "Samb Ndiaye"
                            font_size: 18
                            bold: True
                            font_name: 'bfem/assets/fonts/sen.ttf'
                            color: hex("#000000")
                            size_hint_x: None    
                        Image:
                            source: 'projet_python/bfem/images/icon_login.png'
                            size_hint: None, None
                            size: 20, 14
                            allow_stretch: True
                            keep_ratio: True
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                    BoxLayout:
                        orientation: 'vertical'
                        size_hint: 0.9, 0.1
                        pos_hint: {'center_x': 0.5, 'center_y': 0.1}
                        Label:
                            text: "IA Diourbel    IEF Diourbel"
                            color: hex("#D9D9D9")
                            font_size: 10
                            font_name: 'bfem/assets/fonts/sen.ttf'

                        Label:
                            text: "Centre Cem Gaide Fatma"
                            color: hex("#D9D9D9")
                            font_size: 10
                            font_name: 'bfem/assets/fonts/sen.ttf'

        # Zone principale avec la liste des étudiants
        BoxLayout:
            orientation: 'vertical'
            spacing: 10
            size_hint: 0.7, 1

            # Menu haut
            BoxLayout:
                spacing: 40
                size_hint: 0.8, 0.1
                pos_hint: {'center_x': 0.5, 'top': 1}
                
                ClickableLabel:
                    text: "Liste des matières"
                    font_name: 'bfem/assets/fonts/sen.ttf'
                    color: hex("#ff7300")
                    bold: True
                    size_hint_x: None
                    width: self.texture_size[0] + dp(20)
                    on_press: root.manager.current = 'liste_matiere'

                ClickableLabel:
                    text: "Ajouter une matière"
                    font_size: 16
                    font_name: 'bfem/assets/fonts/sen.ttf'
                    bold: True
                    size_hint_x: None
                    width: self.texture_size[0] + dp(20)
                    color: hex("#256D94")
                    on_press: root.manager.current = 'add_matiere'

                

            # Zone liste des étudiants
            BoxLayout:
                orientation: 'vertical'
                size_hint: 1, 0.9
                canvas.before:
                    Color:
                        rgba: hex("#FFFFFF")
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        radius: [20, 20, 20, 20]
                
                # En-têtes
                GridLayout:
                    cols: 2
                    size_hint: 1, None
                    height: dp(40)
                    padding: dp(10)
                    spacing: dp(5)
                    
                    Label:
                        text: 'Nom de la matière'
                        bold: True
                        font_name: 'bfem/assets/fonts/sen.ttf'
                        color: hex("#000000")
                        font_size: 14
                        size_hint_x: 1
                        text_size: self.size
                        halign: 'center'
                        valign: 'middle'

                    Label:
                        text: 'Coefficient'
                        bold: True
                        font_name: 'bfem/assets/fonts/sen.ttf'
                        color: hex("#000000")
                        font_size: 14
                        size_hint_x: 1
                        text_size: self.size
                        halign: 'center'
                        valign: 'middle'

                    

                # Liste des étudiants
                MatiereList:
                    id: matiere_list
                    viewclass: 'MatiereItem'
                    bar_width: dp(10)
                    bar_color: hex("#256D94")
                    bar_inactive_color: hex("#CCCCCC")
                    effect_cls: "ScrollEffect"
                    scroll_type: ['bars', 'content']

                    RecycleBoxLayout:
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height
                        default_size: None, dp(40)
                        default_size_hint: 1, None
                        spacing: dp(2)
                        padding: dp(10)
                    

<MatiereItem@BoxLayout>:
    orientation: 'horizontal'
    size_hint_y: None
    height: dp(40)
    padding: dp(5)
    spacing: dp(5)
    canvas.before:
        Color:
            rgba: 250, 250, 250, 0.6
        Rectangle:
            size: self.size
            pos: self.pos

    Label:
        text: root.nom_matiere
        size_hint_x: 1
        text_size: self.size
        halign: 'center'
        valign: 'middle'
        font_name: 'bfem/assets/fonts/sen.ttf'
        color: hex("#000000")

    Label:
        text: root.coefficient 
        size_hint_x: 1
        text_size: self.size
        halign: 'center'
        valign: 'middle'
        font_name: 'bfem/assets/fonts/sen.ttf'
        color: hex("#000000")

    